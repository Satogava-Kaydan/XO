<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö—Ä–µ—Å—Ç–∏–∫–∏-–ù–æ–ª–∏–∫–∏ –æ–Ω–ª–∞–π–Ω</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚ùå</text></svg>">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#667eea">
</head>
<body>
    <div class="container">
        <header>
            <h1><span class="icon">‚ùå</span> –ö—Ä–µ—Å—Ç–∏–∫–∏-–ù–æ–ª–∏–∫–∏ –æ–Ω–ª–∞–π–Ω <span class="icon">‚≠ï</span></h1>
            <p class="subtitle">–ò–≥—Ä–∞–π—Ç–µ —Å –¥—Ä—É–∑—å—è–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
        </header>

        <div class="game-container">
            <!-- –õ–æ–±–±–∏ -->
            <div class="lobby active" id="lobby">
                <div class="card">
                    <h2><span class="icon">üè†</span> –°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É</h2>
                    <button id="createRoomBtn" class="btn btn-primary">
                        <span class="icon">‚ú®</span> –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–º–Ω–∞—Ç—É
                    </button>
                    
                    <div class="divider">
                        <span>–∏–ª–∏</span>
                    </div>
                    
                    <h2><span class="icon">üîó</span> –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</h2>
                    <div class="join-section">
                        <input type="text" id="roomIdInput" placeholder="–í–≤–µ–¥–∏—Ç–µ ID –∫–æ–º–Ω–∞—Ç—ã" maxlength="6">
                        <button id="joinRoomBtn" class="btn btn-secondary">
                            <span class="icon">üéÆ</span> –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è
                        </button>
                    </div>
                    
                    <div class="instructions">
                        <h3><span class="icon">üì±</span> –ö–∞–∫ –∏–≥—Ä–∞—Ç—å:</h3>
                        <ol>
                            <li>–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–Ω–∞—Ç—É</li>
                            <li>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∏–ª–∏ ID</li>
                            <li>–û—Ç–ø—Ä–∞–≤—å—Ç–µ –¥—Ä—É–≥—É</li>
                            <li>–ò–≥—Ä–∞–π—Ç–µ!</li>
                        </ol>
                    </div>
                </div>
            </div>

            <!-- –ò–≥—Ä–æ–≤–∞—è –∫–æ–º–Ω–∞—Ç–∞ -->
            <div class="game-room" id="gameRoom">
                <div class="card">
                    <div class="room-header">
                        <h2><span class="icon">üö™</span> –ö–æ–º–Ω–∞—Ç–∞: <span id="roomIdDisplay" class="room-id">---</span></h2>
                        <div class="player-info">
                            –í–∞—à —Å–∏–º–≤–æ–ª: <span id="playerSymbol" class="symbol-x">X</span>
                        </div>
                    </div>
                    
                    <div class="link-container" id="linkContainer">
                        <p><span class="icon">üîó</span> –°—Å—ã–ª–∫–∞ –¥–ª—è –¥—Ä—É–≥–∞:</p>
                        <div class="link-box">
                            <a href="#" id="gameLink" target="_blank" class="game-link"></a>
                            <button id="copyLinkBtn" class="btn btn-small">
                                <span class="icon">üìã</span> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                            </button>
                        </div>
                        <p class="help-text">–û—Ç–ø—Ä–∞–≤—å—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –¥—Ä—É–≥—É –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –¥—Ä—É–≥–æ–º –æ–∫–Ω–µ</p>
                    </div>
                    
                    <div class="game-info">
                        <div class="status" id="gameStatus">–û–∂–∏–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–∞...</div>
                        <div class="turn-info">
                            –°–µ–π—á–∞—Å —Ö–æ–¥–∏—Ç: <span id="currentPlayer" class="symbol-x">X</span>
                        </div>
                    </div>
                    
                    <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ -->
                    <div class="game-board" id="gameBoard">
                        <!-- –ó–∞–ø–æ–ª–Ω–∏—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                    </div>
                    
                    <div class="controls">
                        <button id="restartBtn" class="btn btn-warning">
                            <span class="icon">üîÑ</span> –ù–æ–≤–∞—è –∏–≥—Ä–∞
                        </button>
                        <button id="leaveRoomBtn" class="btn btn-danger">
                            <span class="icon">üö™</span> –í—ã–π—Ç–∏
                        </button>
                    </div>
                </div>
            </div>

            <!-- –ß–∞—Ç -->
            <div class="chat-container" id="chatContainer">
                <div class="card">
                    <h3><span class="icon">üí¨</span> –ß–∞—Ç</h3>
                    <div class="messages" id="chatMessages">
                        <div class="message system">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–Ω–∞—Ç—É –∏–ª–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç–µ—Å—å –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π.</div>
                    </div>
                    <div class="chat-input">
                        <input type="text" id="chatInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                        <button id="sendMessageBtn" class="btn btn-small">
                            <span class="icon">üì§</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <div class="server-status">
                <span id="connectionStatus" class="status-offline">‚óè –û—Ç–∫–ª—é—á–µ–Ω–æ</span>
            </div>
            <div class="footer-links">
                <button id="shareBtn" class="btn-link">
                    <span class="icon">üì§</span> –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∏–≥—Ä–æ–π
                </button>
                <button id="howToPlayBtn" class="btn-link">
                    <span class="icon">‚ùì</span> –ö–∞–∫ –∏–≥—Ä–∞—Ç—å
                </button>
            </div>
            <p class="copyright">¬© 2024 –ö—Ä–µ—Å—Ç–∏–∫–∏-–ù–æ–ª–∏–∫–∏ –æ–Ω–ª–∞–π–Ω</p>
        </footer>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="notification" id="notification"></div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div class="modal" id="howToPlayModal">
        <div class="modal-content">
            <h2><span class="icon">üéÆ</span> –ö–∞–∫ –∏–≥—Ä–∞—Ç—å</h2>
            <div class="modal-body">
                <h3>üë• –î–ª—è –∏–≥—Ä—ã –≤–¥–≤–æ–µ–º:</h3>
                <ol>
                    <li>–û–¥–∏–Ω –∏–≥—Ä–æ–∫ —Å–æ–∑–¥–∞–µ—Ç –∫–æ–º–Ω–∞—Ç—É</li>
                    <li>–ö–æ–ø–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫—É –∏–ª–∏ ID –∫–æ–º–Ω–∞—Ç—ã</li>
                    <li>–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥—Ä—É–≥—É</li>
                    <li>–í—Ç–æ—Ä–æ–π –∏–≥—Ä–æ–∫ –≤–≤–æ–¥–∏—Ç ID –∏–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ</li>
                    <li>–ò–≥—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</li>
                </ol>
                
                <h3>üéØ –ü—Ä–∞–≤–∏–ª–∞:</h3>
                <ul>
                    <li>–ò–≥—Ä–æ–∫ "X" —Ö–æ–¥–∏—Ç –ø–µ—Ä–≤—ã–º</li>
                    <li>–ü–æ –æ—á–µ—Ä–µ–¥–∏ —Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ–∏ —Å–∏–º–≤–æ–ª—ã</li>
                    <li>–¶–µ–ª—å: —Å–æ—Å—Ç–∞–≤–∏—Ç—å –ª–∏–Ω–∏—é –∏–∑ 3 —Å–∏–º–≤–æ–ª–æ–≤</li>
                    <li>–õ–∏–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–π, –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π –∏–ª–∏ –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–π</li>
                </ul>
                
                <h3>üîó –°—Å—ã–ª–∫–∏:</h3>
                <p>–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å—Å—ã–ª–∫–æ–π —Å –¥—Ä—É–≥–æ–º –¥–ª—è –∏–≥—Ä—ã. –°—Å—ã–ª–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç ID –∫–æ–º–Ω–∞—Ç—ã.</p>
            </div>
            <button class="btn btn-primary close-modal">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Socket.io -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="game.js"></script>
    
    <!-- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) -->
    <script>
        // –ü—Ä–æ—Å—Ç–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
        window.addEventListener('load', () => {
            console.log('üéÆ –ö—Ä–µ—Å—Ç–∏–∫–∏-–ù–æ–ª–∏–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã');
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('/sw.js').catch(console.log);
            }
        });
    </script>
</body>
</html>
